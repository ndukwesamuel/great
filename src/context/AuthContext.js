import React, { createContext, useContext, useEffect, useReducer } from "react";

import AuthReducer from "./AuthReducer";

const INITIAL_STATE = {
  user: JSON.parse(localStorage.getItem("user")) || null,
  // user: {
  //   _id: "627103091c248371943dd768",
  //   username: "samheart",
  //   email: "great@gmail.com",
  //   password: "$2b$10$F/B.QaKHl421lKGH./FaU.tie.H2sjL67diIqJdjSBF8yK9A84Eb6",
  //   profilePicture:
  //     "data:image/jpeg;base64,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",
  //   coverPicture: "",
  //   followers: [],
  //   following: [],
  //   isAdmin: false,
  //   createdAt: "2022-05-03T10:25:13.342Z",
  //   updatedAt: "2022-05-20T11:36:30.213Z",
  //   __v: 0,
  //   desc: "kk",
  //   city: "lagos",
  // },

  isFetching: false,
  error: false,
};

const AuthContext = React.createContext(INITIAL_STATE);

const AuthContextProvider = ({ children }) => {
  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);

  useEffect(() => {
    localStorage.setItem("user", JSON.stringify(state.user));
  }, [state.user]);

  return (
    <AuthContext.Provider
      value={{
        user: state.user,
        isFetching: state.isFetching,
        error: state.error,
        dispatch,
        name: "sam",
      }}
    >
      {children}
    </AuthContext.Provider>
  );
};

export const useGlobalContext = () => {
  return useContext(AuthContext);
};

export { AuthContextProvider, AuthContext };
